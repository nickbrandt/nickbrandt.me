function setIntro(){var t=($(window).width(),$(window).height()),e=$("#intro").height(),a=($("#intro").innerHeight(),2*parseInt($("#intro").css("padding-top")));$("#intro").css("line-height",""),t>e?$("#intro").css("line-height",t-a+"px"):$("#intro").css("line-height","")}function onScroll(t){var e=$(document).scrollTop();$(".mainNav a").each(function(){var t=$(this),a=$(t.attr("href"));a.position().top<=e&&a.position().top+a.height()>e?($(".mainNav a").removeClass("active"),t.addClass("active")):t.removeClass("active")})}function setWork(){var t=$(window).width();$(window).height();1024>t&&t>849?($("#projectList .project:nth-child(5)").removeClass("horizontal").addClass("square"),$("#projectList .project:first-child, #projectList .project:nth-child(4)").removeClass("horizontal").addClass("vertical")):850>t?($("#projectList .project:nth-child(5)").removeClass("horizontal").addClass("square"),$("#projectList .project:first-child, #projectList .project:nth-child(4)").removeClass("vertical").addClass("horizontal")):($("#projectList .project:nth-child(5), #projectList .project:nth-child(4)").removeClass("vertical").addClass("horizontal"),$("#projectList .project:first-child").removeClass("horizontal").addClass("vertical"))}function setWaypoints(){new Waypoint({element:$("#skills"),handler:function(t){"down"==t?($("#homeNav").addClass("hide"),$("#navbar").removeClass("before"),$("#navbar").addClass("animate")):($("#homeNav").removeClass("hide"),$("#navbar").addClass("before"))},offset:100}),new Waypoint.Inview({element:$("#guage"),enter:function(){$("#guage").addClass("inview")},exit:function(){$("#guage").removeClass("inview")}}),new Waypoint.Inview({element:$("#systems"),enter:function(){$("#systems,#frameworks").removeClass("before")},exit:function(){$("#systems,#frameworks").addClass("before")}})}$(function(){FastClick.attach(document.body)}),$(document).ready(function(){$(this).scrollTop(0),$(window).scroll(function(){var t=$(this).scrollTop();$(".no-touch #intro").css({"background-position":"center "+parseInt(-t/8)+"px","background-attachment":"fixed"})});var e=document.querySelectorAll("img.svg-inject");SVGInjector(e),$(".back").click(function(t){t.preventDefault(),$("#pageWrap,#navbar").animate({"margin-left":"0"},600,"easeOutQuart"),$("#projectWrap,#projectNavbar").animate({left:"100%"},600,"easeOutQuart"),$("body").removeClass("project-open"),$("#navbar a.work").addClass("active"),$(document).on("scroll",onScroll)}),$("a.project").on("click",function(e){e.preventDefault(),t=$(this),$("#pageWrap,#navbar").animate({"margin-left":"-100%"},600,"easeOutQuart"),$("#projectWrap,#projectNavbar").animate({left:"0"},600,"easeOutQuart"),$("#projectWrap").removeClass().addClass(t.attr("data-project")),$("#projectWrap .content").empty(),$("body").append('<div class="loading"><div class="bullet" /><div class="bullet" /><div class="bullet" /></div>'),$("body").addClass("project-open"),$("#projectWrap .content").load("projects/"+t.attr("data-project")+".html .content >",function(){$(this).hide(),$(this).imagesLoaded(function(){$("div.loading").fadeOut(500,function(){$(this).detach()}),$("#projectWrap .content").fadeIn(1e3)})})}),$(".img-contain").imagefill(),$(document).on("scroll",onScroll),$('#navbar a[href^="#"], #homeNav a[href^="#"]').on("click",function(t){t.preventDefault(),$(document).off("scroll"),$("#navbar a, #homeNav a").each(function(){$(this).removeClass("active")}),$(this).addClass("active");var e=this.hash;$target=$(e),$("html, body").stop().animate({scrollTop:$target.offset().top+2},1e3,"easeOutQuart",function(){$(document).on("scroll",onScroll)})}),$(".form-content input,.form-content textarea").blur(function(){$(this).val()?$(this).parent().addClass("has-content"):$(this).parent().removeClass("has-content")}),$(".form-content textarea").focus(function(){$(this).parent().addClass("open")}),$(".form-content textarea").blur(function(){$(this).parent().removeClass("open")}),$("form[name=lets-connect]").submit(function(t){$("form[name=lets-connect] input[name=js-submission]").val(1),t.preventDefault();var e=$(this).serialize();return $(".contact-form").append('<div class="loading"><div class="bullet" /><div class="bullet" /><div class="bullet" /></div>'),$.ajax({type:"POST",url:"form.php",dataType:"json",data:e,cache:!1,success:function(t){$("form[name=lets-connect] input").parent().removeClass("error"),$("form[name=lets-connect] textarea").parent().removeClass("error"),$("div.loading").fadeOut(500,function(){if($(this).detach(),t.success&&0==t.errors.length)$("div.form-errors").slideUp(400),$("div.form-content").slideUp(400,function(){$("div.form-confirmation").slideDown(200),$("html,body").animate({scrollTop:$(".contact-form").offset().top-43},600,"easeOutQuart")});else{$("div.form-errors").slideDown(200),$("html,body").animate({scrollTop:$(".form-content").offset().top-43},600,"easeOutQuart");for(var e=0;e<t.errors.length;e++)$("form[name=lets-connect] input[name="+t.errors[e]+"]").parent().addClass("error"),$("form[name=lets-connect] textarea[name="+t.errors[e]+"]").parent().addClass("error")}})},error:function(){$("div.loading").fadeOut(500,function(){$(this).detach(),$("div.form-errors").slideDown(200),$("html,body").animate({scrollTop:$(".form-content").offset().top-43},600,"easeOutQuart")})}}),!1}),setIntro(),setWaypoints(),setWork()}),$(window).load(function(){$("div.loading").detach(),$("html").addClass("loaded"),setTimeout(function(){$("h1").removeClass("before")},300),setTimeout(function(){$("#homeNav").removeClass("before")},1300)}),$(window).resize(function(){setIntro(),setWork()}),$(document).ajaxComplete(function(){$(".img-contain").imagefill();var e=document.querySelectorAll("img.svg-inject");SVGInjector(e),$("a.project-link").on("click",function(e){e.preventDefault(),t=$(this),$("#projectWrap").removeClass().addClass(t.attr("data-project")),$("body").append('<div class="loading"><div class="bullet" /><div class="bullet" /><div class="bullet" /></div>'),$("#projectWrap .content").fadeOut(500,function(){$("#projectWrap .content").empty(),$("#projectWrap .content").load("projects/"+t.attr("data-project")+".html .content >",function(){$(this).hide(),$(this).imagesLoaded(function(){$("div.loading").fadeOut(500,function(){$(this).detach()}),$("#projectWrap").scrollTop(0),$("#projectWrap .content").css("top","50px").fadeIn({duration:1500,queue:!1}).animate({top:0},1500,"easeOutQuart")})})})}),$(".grid-btn").click(function(t){t.preventDefault(),$("#pageWrap,#navbar").animate({"margin-left":"0"},600,"easeOutQuart"),$("#projectWrap,#projectNavbar").animate({left:"100%"},600,"easeOutQuart"),$("body").removeClass("project-open"),$("#navbar a.work").addClass("active"),$(document).on("scroll",onScroll)})});